---
import SignupForm from './SignupForm.astro';
import LinkComponent from './LinkComponent.astro';
import { links, heroLinks } from '@data/data';

interface Props {
  profileImage?: string;
  profileImage320?: string;
  profileImage800?: string;
  name?: string;
  bio?: string;
  title?: string;
  location?: string;
  emoji?: string;
  date?: string;
  description?: string;
  cta?: { label?: string; href?: string };
  gradient?: string;
}
const { profileImage = '/images/EDIT-23-800.jpg', profileImage320 = '/images/EDIT-23-320.jpg', profileImage800 = '/images/EDIT-23-800.jpg', name = 'Gino', bio = '', title = 'OUTSIDERS', location = 'Brighton', emoji = 'ðŸ“¡', date = '28/11/25', description = '', cta = { label: 'See Tour Dates', href: '/tour-dates' }, gradient = 'bg-gradient-to-b from-[#0b3b66] via-[#1b4f8b] to-[#070F2B]' } = Astro.props as Props;
---
<section class={`w-full py-10 ${gradient} text-white rounded-b-xl`}> <!-- optional gradient wrapper -->
  <div class="max-w-6xl mx-auto px-4">
    <div class="grid lg:grid-cols-12 gap-8 items-start">
      <!-- Left column: Profile + Social links -->
      <div class="lg:col-span-4 flex flex-col items-center lg:items-start gap-6">
          <div class="rounded-xl bg-black bg-opacity-30 p-4 shadow-2xl w-fit transform-gpu">
          <img
            src={profileImage}
            srcset={`${profileImage320} 320w, ${profileImage800} 800w`}
            sizes="(max-width: 640px) 40vw, 192px"
            alt={name}
            width="192" height="192"
            loading="eager"
            decoding="async"
            class="w-48 h-48 object-cover rounded-2xl border-4 border-gray-700 shadow-inner" />
        </div>
        <div class="text-center lg:text-left">
          <div class="flex items-center gap-2">
            <span class="font-bold">{name}</span>
          </div>
          {bio && <p class="text-sm text-gray-300 mt-1">{bio}</p>}
          <ul class="mt-4 space-y-2 text-gray-200">
            {(heroLinks && heroLinks.length > 0 ? heroLinks : (links.find(l => l.title && l.title.toLowerCase().includes('links') )?.items ?? [])).slice(0,6).map(item => (
              <li class="flex items-center gap-3">
                <img src={item.image} alt="" class="w-5 h-5 object-contain opacity-80 rounded-full" />
                <a class="text-sm hover:underline" href={item.href} target="_blank">{ item.title }</a>
              </li>
            ))}
          </ul>
        </div>
      </div>

      <!-- Right column: Headline, info, signup -->
      <div class="lg:col-span-8 flex flex-col gap-4">
        <div class="flex flex-col gap-3 lg:gap-4">
          <div class="leading-tight text-center lg:text-left">
            <h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-extrabold uppercase tracking-tight">{title} {location && <span class="ml-2">{emoji} {location}</span>}</h1>
            <h2 class="text-2xl md:text-4xl lg:text-5xl mt-2 font-extrabold">{date}</h2>
          </div>
          {description && <p class="text-lg text-gray-200 max-w-2xl mx-auto lg:mx-0">{description}</p>}
        </div>

        <div class="mt-4 flex flex-col gap-4">
          <!-- Link to tour dates (important) - center for mobile, align left on large screens -->
          <div class="flex justify-center lg:justify-start">
            <a href={cta.href} class="inline-block text-sm font-semibold text-white rounded px-3 py-2 bg-black bg-opacity-30 hover:bg-opacity-50 w-fit mx-auto lg:mx-0">{cta.label}</a>
          </div>

          <!-- signup form with translucent card look -->
          <div class="w-full max-w-2xl">
            <SignupForm />
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
